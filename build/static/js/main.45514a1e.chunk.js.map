{"version":3,"sources":["reducer.js","context.js","data.js","Navbar.js","CartItem.js","CartContainer.js","App.js","index.js"],"names":["reducer","state","action","type","loading","cart","payload","newCart","filter","item","id","map","amount","reduce","acc","current","price","total","parseFloat","toFixed","AppContext","React","createContext","defaultState","title","img","AppProvider","children","useReducer","dispatch","fetchData","a","fetch","resp","json","useEffect","Provider","value","increase","decrease","clear","remove","useGlobalContext","useContext","Navbar","className","xmlns","viewBox","d","CartItem","src","alt","onClick","CartContainer","length","key","App","style","color","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.45514a1e.chunk.js","sourcesContent":["const reducer = (state, action) => {\r\n  if (action.type === 'LOADING') {\r\n    return { ...state, loading: true };\r\n  }\r\n  if (action.type === 'GET_DATA') {\r\n    return { ...state, loading: false, cart: action.payload };\r\n  }\r\n  if (action.type === 'CLEAR') {\r\n    return { ...state, cart: [] };\r\n  }\r\n  if (action.type === 'REMOVE') {\r\n    const newCart = state.cart.filter((item) => item.id !== action.payload);\r\n    return { ...state, cart: newCart };\r\n  }\r\n  if (action.type === 'INCREASE') {\r\n    const newCart = state.cart.map((item) => {\r\n      if (item.id === action.payload) {\r\n        return { ...item, amount: item.amount + 1 };\r\n      }\r\n      return item;\r\n    });\r\n\r\n    return { ...state, cart: newCart };\r\n  }\r\n  if (action.type === 'DECREASE') {\r\n    const newCart = state.cart.map((item) => {\r\n      if (item.id === action.payload) {\r\n        return { ...item, amount: item.amount - 1 };\r\n      }\r\n      return item;\r\n    });\r\n\r\n    return { ...state, cart: newCart };\r\n  }\r\n  if (action.type === 'GET_TOTAL') {\r\n    let { total, amount } = state.cart.reduce(\r\n      (acc, current) => {\r\n        const { price, amount } = current;\r\n        acc.amount += amount;\r\n        acc.total += amount * price;\r\n        return acc;\r\n      },\r\n      { total: 0, amount: 0 }\r\n    );\r\n    total = parseFloat(total.toFixed(2));\r\n\r\n    return { ...state, total, amount };\r\n  }\r\n};\r\nexport default reducer;\r\n","import React, { useState, useContext, useReducer, useEffect } from 'react';\nimport cartItems from './data';\nimport reducer from './reducer';\n\n// ATTENTION!!!!!!!!!!\n// I SWITCHED TO PERMANENT DOMAIN\nconst url = 'https://course-api.com/react-useReducer-cart-project';\n\nconst AppContext = React.createContext();\nconst defaultState = {\n  total: 0.0,\n  cart: cartItems,\n  amount: 0.0,\n  loading: true,\n};\nconst AppProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, defaultState);\n  // useEffect(() => {\n  //   dispatch({ type: 'GET_DATA', payload: url });\n  // }, [url]);\n  const increase = (id) => {\n    dispatch({ type: 'INCREASE', payload: id });\n  };\n  const decrease = (id) => {\n    dispatch({ type: 'DECREASE', payload: id });\n  };\n  const clear = () => {\n    dispatch({ type: 'CLEAR' });\n  };\n  const remove = (id) => {\n    dispatch({ type: 'REMOVE', payload: id });\n  };\n  const fetchData = async () => {\n    dispatch({ type: 'LOADING' });\n    const resp = await fetch(url);\n    const cart = await resp.json();\n    dispatch({ type: 'GET_DATA', payload: cart });\n  };\n  useEffect(() => {\n    fetchData();\n  }, []);\n  useEffect(() => {\n    dispatch({ type: 'GET_TOTAL' });\n  }, [state.cart]);\n  return (\n    <AppContext.Provider\n      value={{\n        ...state,\n        increase,\n        decrease,\n        clear,\n        remove,\n      }}\n    >\n      {children}\n    </AppContext.Provider>\n  );\n};\n// make sure use\nexport const useGlobalContext = () => {\n  return useContext(AppContext);\n};\n\nexport { AppContext, AppProvider };\n","export default [\n  {\n    id: 1,\n    title: 'Samsung Galaxy S7',\n    price: 599.99,\n    img:\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368215/phone-2_ohtt5s.png',\n    amount: 1,\n  },\n  {\n    id: 2,\n    title: 'google pixel ',\n    price: 499.99,\n    img:\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583371867/phone-1_gvesln.png',\n    amount: 1,\n  },\n  {\n    id: 3,\n    title: 'Xiaomi Redmi Note 2',\n    price: 699.99,\n    img:\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368224/phone-3_h2s6fo.png',\n    amount: 1,\n  },\n];\n","import React from 'react';\nimport { useGlobalContext } from './context';\nconst Navbar = () => {\n  const { amount } = useGlobalContext();\n  return (\n    <nav>\n      <div className='nav-center'>\n        <h3>useReducer</h3>\n        <div className='nav-container'>\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\n            <path d='M16 6v2h2l2 12H0L2 8h2V6a6 6 0 1 1 12 0zm-2 0a4 4 0 1 0-8 0v2h8V6zM4 10v2h2v-2H4zm10 0v2h2v-2h-2z' />\n          </svg>\n          <div className='amount-container'>\n            <p className='total-amount'>{amount}</p>\n          </div>\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;\n","import React from 'react';\nimport { useGlobalContext } from './context';\nconst CartItem = ({ id, img, title, price, amount }) => {\n  const { increase, decrease, remove } = useGlobalContext();\n\n  return (\n    <article className='cart-item'>\n      <img src={img} alt={title} />\n      <div>\n        <h4>{title}</h4>\n        <h4 className='item-price'>${price}</h4>\n        {/* remove button */}\n        <button className='remove-btn' onClick={() => remove(id)}>\n          remove\n        </button>\n      </div>\n      <div>\n        {/* increase amount */}\n        <button className='amount-btn' onClick={() => increase(id)}>\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\n            <path d='M10.707 7.05L10 6.343 4.343 12l1.414 1.414L10 9.172l4.243 4.242L15.657 12z' />\n          </svg>\n        </button>\n        {/* amount */}\n        <p className='amount'>{amount}</p>\n        {/* decrease amount */}\n        <button className='amount-btn' onClick={() => decrease(id)}>\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\n            <path d='M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z' />\n          </svg>\n        </button>\n      </div>\n    </article>\n  );\n};\n\nexport default CartItem;\n","import React from 'react';\nimport CartItem from './CartItem';\nimport { useGlobalContext } from './context';\n\nconst CartContainer = () => {\n  const { cart, total, clear } = useGlobalContext();\n  if (cart.length === 0) {\n    return (\n      <section className='cart'>\n        {/* cart header */}\n        <header>\n          <h2>your bag</h2>\n          <h4 className='empty-cart'>is currently empty</h4>\n        </header>\n      </section>\n    );\n  }\n  return (\n    <section className='cart'>\n      {/* cart header */}\n      <header>\n        <h2>your bag</h2>\n      </header>\n      {/* cart items */}\n      <div>\n        {cart.map((item) => {\n          return <CartItem key={item.id} {...item} />;\n        })}\n      </div>\n      {/* cart footer */}\n      <footer>\n        <hr />\n        <div className='cart-total'>\n          <h4>\n            total <span>${total}</span>\n          </h4>\n        </div>\n        <button className='btn clear-btn' onClick={() => clear()}>\n          clear cart\n        </button>\n      </footer>\n    </section>\n  );\n};\n\nexport default CartContainer;\n","import React from 'react';\nimport { useGlobalContext } from './context';\n\n// components\nimport Navbar from './Navbar';\nimport CartContainer from './CartContainer';\n// items\n\nfunction App() {\n  const { loading } = useGlobalContext();\n\n  if (loading) {\n    return (\n      <div className='loading'>\n        <h1>Loading...</h1>\n        <h1 style={{ color: 'red' }}>\n          you must use a vpn or proxy due to some issues in Iran!!\n        </h1>\n        <h1 style={{ color: 'green' }}>then refresh</h1>\n      </div>\n    );\n  }\n  return (\n    <main>\n      <Navbar />\n      <CartContainer />\n    </main>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AppProvider } from './context';\nReactDOM.render(\n  <React.StrictMode>\n    <AppProvider>\n      <App />\n    </AppProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}